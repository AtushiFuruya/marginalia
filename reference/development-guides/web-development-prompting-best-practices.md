# AI駆動Web制作のプロンプティングベストプラクティス

> **作成日**: 2025-11-07
> **対象**: Web制作プロジェクト全般
> **目的**: 効率的で高品質なAI活用によるWeb開発ワークフロー

---

## 📋 目次

1. [プロンプティングフローの概要](#プロンプティングフローの概要)
2. [フェーズ別ベストプラクティス](#フェーズ別ベストプラクティス)
3. [評価と改善点](#評価と改善点)
4. [汎用的なテンプレート](#汎用的なテンプレート)
5. [アンチパターン（避けるべき手法）](#アンチパターン避けるべき手法)

---

## プロンプティングフローの概要

### 標準ワークフロー

```
Phase 1: プロジェクト初期化
  ├─ コードベース分析
  ├─ CLAUDE.md作成
  └─ プロジェクト理解の確立

Phase 2: 要件定義と計画
  ├─ 参考サイト分析
  ├─ 要件ドキュメント作成
  ├─ サイトマップ設計
  └─ 技術選定

Phase 3: ツール・環境整備
  ├─ OpenMemoryセットアップ
  ├─ 分析ツール作成
  └─ ドキュメント体系構築

Phase 4: 実装準備
  ├─ アセット整理
  ├─ レスポンシブガイド調査
  ├─ ファイル構造最適化
  └─ Issue分割（次のステップ）

Phase 5: 実装・テスト（今後）
  └─ Walking Skeleton → 段階的実装
```

---

## フェーズ別ベストプラクティス

### Phase 1: プロジェクト初期化

#### ✅ 良かった点

**1. 初期コードベース分析の依頼**
```markdown
❌ 悪い例:
"このプロジェクトを見て"

✅ 良い例:
"/init dangerous mode - Please analyze this codebase and create a CLAUDE.md file"
```

**理由**:
- 明確な成果物（CLAUDE.md）を指定
- dangerous modeで詳細分析を要求
- 次のセッションでの引き継ぎを考慮

**2. プロジェクトガイダンスファイルの作成**

CLAUDE.mdを作成することで：
- 新しいAIセッションでも文脈を理解可能
- プロジェクトの概要が常に参照可能
- チーム全体での知識共有

---

### Phase 2: 要件定義と計画

#### ✅ 良かった点

**1. 参考サイトの徹底分析**

```markdown
✅ 実行した指示:
"Use web-scraper-analyzer create sitemap for this site.
 http://bug-system.com/product/04_mk/"
```

**理由**:
- 参考サイトの構造を体系的に把握
- デザインパターンの学習
- 技術スタックの理解

**2. 要件を明確に提供**

```markdown
✅ 良い例:
「"""
[詳細な要件を三重引用符で囲んで提供]
"""
Create requirement file text encompassed triple quotation.」
```

**理由**:
- 要件の範囲が明確
- 誤解の余地が少ない
- 参照しやすい形式

#### ⚠️ 改善すべき点

**問題**: 要件提供のタイミングが遅れた

**改善策**:
```markdown
推奨フロー:
1. プロジェクト初期化
2. 【即座に】要件定義ドキュメント作成
3. 参考サイト分析
4. サイトマップ設計

実際のフロー:
1. プロジェクト初期化
2. 参考サイト分析
3. 【後から】要件定義
```

**推奨**: 要件定義は最初に行い、それをベースに分析を進める

---

### Phase 3: ツール・環境整備

#### ✅ 良かった点

**1. OpenMemoryの導入**

```markdown
✅ 実行した指示:
"Install 'openmemory' and set up in Global environment
 for memorize context in this conversation history"
```

**理由**:
- コンテキストの永続化
- 複数セッション間での情報共有
- プロジェクト知識の蓄積

**2. カスタム分析ツールの作成要求**

```markdown
✅ 実行した指示:
"google-dev-tools then retake analyze the structure...
 extract the whole structure of the website"
```

**理由**:
- 一般的なツールでは不十分な場合の対応
- プロジェクト固有のニーズに対応

#### ⚠️ 改善すべき点

**問題1**: ツール作成の試行錯誤

最初にPuppeteerでエラー → Pythonスクリプトで再実装

**改善策**:
```markdown
✅ 推奨:
"Create a web scraper using Python and BeautifulSoup
 (more reliable than Puppeteer for static content).
 Requirements: [具体的な抽出項目]"
```

**問題2**: スクレイピング結果の重複

sitemap.md (44KB) と reference-site-sitemap.md (1.5KB) が重複

**改善策**:
```markdown
✅ 推奨:
"Create two versions of the sitemap:
 1. Detailed version (sitemap-full.md) - for deep analysis
 2. Summary version (sitemap-summary.md) - for quick reference"
```

---

### Phase 4: 実装準備

#### ✅ 良かった点

**1. 最新技術情報の調査**

```markdown
✅ 実行した指示:
"Use sub-agent, research recent mediaquery and responsive design.
 Report briefly and integrate into md files."
```

**理由**:
- 2025年の最新標準を調査
- Container Queries等の新技術を把握
- 実装前に技術選定を完了

**2. ファイル整理の体系的アプローチ**

```markdown
✅ 実行した指示:
"Organizing the directory contents by:
 1. Reviewing and selecting relevant information
 2. Consolidating duplicate content
 3. Removing unnecessary files
 4. Aggregating essential information
 First, present organization plan without executing."
```

**理由**:
- 実行前に計画を確認
- ユーザーの承認を得てから実行
- 安全な運用

**3. アセット整理の明確な指示**

```markdown
✅ 実行した指示:
[フォルダ構造を提示]
"上記のフォルダ構造に従って
 /Users/.../images 配下の画像ファイル及び動画ファイルに
 アクセスしフォルダ分けしてください"
```

**理由**:
- 構造を視覚的に提示
- 明確な分類基準
- 実装時の利便性を考慮

#### ⚠️ 改善すべき点

**問題**: 細かい修正が後から発生

```markdown
❌ 実際:
整理完了後に「Scene_daily.jpgの頭文字を小文字にして」

✅ 改善:
最初から命名規則を明示:
"ファイル名は全て小文字で統一し、アンダースコア区切りとする。
 例: scene_daily.jpg, character_elaine.png"
```

---

## 評価と改善点

### 🎯 全体的な評価

#### 優れている点（80点）

1. **段階的アプローチ** ⭐⭐⭐⭐⭐
   - 計画 → 分析 → 整理 → 実装準備の順序が適切
   - 各フェーズで必要な作業を完了してから次へ

2. **ドキュメント重視** ⭐⭐⭐⭐⭐
   - 要件定義、サイトマップ、ガイドを体系的に作成
   - 将来の参照を考慮した情報整理

3. **AIツール活用** ⭐⭐⭐⭐
   - サブエージェント活用
   - 専用ツール作成
   - OpenMemory導入

4. **実装前の準備完了度** ⭐⭐⭐⭐
   - アセット整理完了
   - 最新技術調査完了
   - レスポンシブガイド作成

#### 改善すべき点（-20点）

1. **初期の要件定義タイミング** ⭐⭐⭐
   - 参考サイト分析より先に要件を確定すべき
   - 順序を逆にすることで効率向上

2. **ツール選択の試行錯誤** ⭐⭐⭐
   - Puppeteer → Python への切り替え
   - 最初から適切なツールを指定すべき

3. **重複ファイルの発生** ⭐⭐
   - 44KBと1.5KBの2つのサイトマップ
   - 最初からバージョン分けを明示

4. **細かい修正の後追い** ⭐⭐
   - ファイル名の統一等が後から
   - 命名規則を最初から明示すべき

---

## 汎用的なテンプレート

### テンプレート1: プロジェクト初期化

```markdown
# プロジェクト初期化プロンプト

/init dangerous mode

以下のタスクを実行してください:

1. **コードベース分析**
   - ディレクトリ構造の把握
   - 既存ファイルの分析
   - 技術スタックの特定

2. **CLAUDE.md作成**
   以下の情報を含めてください:
   - プロジェクト概要
   - ディレクトリ構造
   - 技術スタック
   - 開発ガイドライン
   - 注意事項

3. **初期ドキュメント構造提案**
   以下のディレクトリを作成すべきか提案:
   - /docs (ドキュメント)
   - /reference (参考資料)
   - /assets (アセット)

成果物: CLAUDE.md ファイル
```

### テンプレート2: 要件定義作成

```markdown
# 要件定義プロンプト

以下の要件に基づいて、詳細な要件定義書（requirements.md）を作成してください。

## プロジェクト概要
[プロジェクトの説明]

## 目標
[達成したい目標]

## ページ構成
[ページリスト]

## 技術要件
- HTML: [バージョン]
- CSS: [要件]
- JavaScript: [フレームワーク/ライブラリ]

## デザイン要件
- カラーパレット: [色指定]
- フォント: [フォント名]
- レスポンシブ: [ブレークポイント]

## パフォーマンス要件
- ページ読み込み時間: [目標値]
- 画像最適化: [方針]

## 成果物
- requirements.md ファイル
- Markdown形式
- 章立てを明確に
```

### テンプレート3: 参考サイト分析

```markdown
# 参考サイト分析プロンプト

以下のサイトを分析し、包括的なレポートを作成してください。

## 分析対象
URL: [参考サイトURL]

## 分析項目
1. **サイト構造**
   - ページ数とナビゲーション構造
   - 主要セクション
   - ページ遷移フロー

2. **技術スタック**
   - HTML/CSS/JavaScriptバージョン
   - 使用しているライブラリ/フレームワーク
   - サーバーサイド技術（判別可能な場合）

3. **デザイン特徴**
   - カラースキーム
   - タイポグラフィ
   - レイアウトパターン

4. **インタラクション**
   - アニメーション
   - ユーザー操作
   - レスポンシブ対応

5. **採用・改善ポイント**
   - 本プロジェクトに採用すべき要素
   - 改善すべき要素

## 成果物
1. サイトマップ（sitemap-summary.md）
2. 分析サマリー（ANALYSIS-SUMMARY.md）
3. 技術データ（site-analysis.json）

## ツール
Web scraping: Python + BeautifulSoup を使用
```

### テンプレート4: 最新技術調査

```markdown
# 最新技術調査プロンプト

サブエージェントを使用して、以下のテーマについて最新情報を調査してください。

## 調査テーマ
[例: レスポンシブデザイン 2025]

## 調査項目
1. **業界標準**
   - 現在の標準的なアプローチ
   - ブラウザサポート状況
   - 採用率

2. **新技術・新手法**
   - 新しく登場した技術
   - 実験的な手法
   - プロダクション適用可否

3. **ベストプラクティス**
   - 推奨される実装方法
   - パフォーマンス最適化
   - アクセシビリティ対応

4. **実装例**
   - コードサンプル
   - 実装パターン
   - 注意点

## 成果物
- Markdownレポート（[テーマ]-guide-2025.md）
- 本プロジェクトへの適用推奨事項を含む
- コード例を豊富に含める

## 調査方法
WebSearch を使用して 2024-2025 の最新情報を取得
```

### テンプレート5: ファイル整理

```markdown
# ファイル整理プロンプト

以下の手順でファイルを整理してください。

## 整理対象
ディレクトリ: [対象ディレクトリパス]

## 整理方針
1. **レビューと選別**
   - 関連性の高い情報を選別
   - 重複コンテンツを特定

2. **重複の統合**
   - 同じ情報を持つファイルを統合
   - バージョン管理が必要な場合は明示

3. **不要ファイルの削除**
   - 使用しないファイルをリストアップ
   - バックアップの必要性を判断

4. **情報の集約**
   - 最も重要な情報を特定
   - アクセスしやすい構造に整理

## 実行手順
**重要**: 実行前に整理計画を提示し、承認を得てから実行してください。

1. 現状分析レポート作成
2. 整理計画の提示（実行なし）
3. ユーザー承認待ち
4. 承認後に実行

## 成果物
- 整理計画書
- 整理後のディレクトリ構造
- 削除ファイルのバックアップ（必要に応じて）
```

### テンプレート6: アセット整理

```markdown
# アセット整理プロンプト

以下のフォルダ構造に従って、アセットファイルを整理してください。

## 目標フォルダ構造
```
assets/
├── images/
│   ├── [用途別フォルダ1]/
│   ├── [用途別フォルダ2]/
│   └── [用途別フォルダ3]/
├── videos/
│   └── [用途別フォルダ]/
└── fonts/
    └── [フォント名]/
```

## 整理対象
ディレクトリ: [対象パス]

## 命名規則
- **ファイル名**: 全て小文字、アンダースコア区切り
- **例**: main_visual_01.jpg, character_elaine.png
- **禁止**: スペース、大文字始まり、日本語（可能な限り避ける）

## 分類基準
1. **画像**
   - 用途別にフォルダ分け
   - [具体的な分類基準]

2. **動画**
   - 用途別にフォルダ分け
   - [具体的な分類基準]

## 実行手順
1. フォルダ構造を作成
2. ファイルを分類・移動
3. 命名規則に従ってリネーム
4. 整理結果を報告

## 成果物
- 整理されたアセットディレクトリ
- ファイル一覧レポート（カテゴリ別）
```

---

## アンチパターン（避けるべき手法）

### ❌ アンチパターン1: 曖昧な指示

```markdown
❌ 悪い例:
"サイトを作ってください"
"このファイルを整理して"
"参考サイトを見て"

✅ 良い例:
"要件定義書（requirements.md）に基づいて、
 index.html（年齢確認ページ）を作成してください。
 参照: reference/production-docs/requirements.md"
```

**問題点**:
- 成果物が不明確
- 参照情報が不足
- 判断基準がない

### ❌ アンチパターン2: 一度に多くを要求

```markdown
❌ 悪い例:
"サイト全体を実装してください。
 HTML、CSS、JavaScript、画像最適化、
 レスポンシブ対応、SEO対策、すべてお願いします"

✅ 良い例:
"Phase 1として、以下を実装してください:
 1. index.html（年齢確認ページ）- 基本構造のみ
 2. style.css（共通スタイル）- レイアウトのみ
 3. script.js（年齢確認機能）- 基本動作のみ

 詳細仕様: reference/production-docs/walking-skeleton-flow.md"
```

**問題点**:
- タスクが大きすぎる
- 優先順位が不明
- 検証が困難

### ❌ アンチパターン3: 後追い修正

```markdown
❌ 悪い例の流れ:
1. "ファイルを整理して"
2. [整理完了]
3. "あ、ファイル名は小文字にして"
4. [修正完了]
5. "スペースはアンダースコアに置き換えて"

✅ 良い例:
"以下の命名規則に従ってファイルを整理してください:
 - 全て小文字
 - 区切りはアンダースコア（_）
 - スペース禁止
 - 例: main_visual_01.jpg"
```

**問題点**:
- 手戻りが発生
- 非効率
- ルールが後付け

### ❌ アンチパターン4: コンテキスト不足

```markdown
❌ 悪い例:
"エラーが出ました。直してください"

✅ 良い例:
"以下のエラーが発生しました:

 [エラーメッセージ全文]

 発生箇所: src/components/Gallery.js:42
 実行環境: Chrome 120, macOS
 再現手順:
 1. ギャラリーページを開く
 2. 画像をクリック
 3. モーダルが表示されない

 関連ファイル:
 - src/components/Gallery.js
 - src/styles/gallery.css"
```

**問題点**:
- 原因特定に時間がかかる
- 不正確な修正の可能性
- 再発の危険性

### ❌ アンチパターン5: 計画なしの実行

```markdown
❌ 悪い例:
"ファイルを削除して整理してください"
[即座に実行 → 必要なファイルも削除]

✅ 良い例:
"以下の手順でファイル整理を行ってください:

 1. 現状分析と整理計画を作成（実行なし）
 2. 削除候補ファイルをリストアップ
 3. 私の承認を待つ
 4. 承認後にバックアップを作成
 5. 整理を実行
 6. 結果を報告"
```

**問題点**:
- 取り返しのつかない操作
- ユーザーの意図と乖離
- データロスのリスク

### ❌ アンチパターン6: バージョン管理の欠如

```markdown
❌ 悪い例:
[ファイル上書き → 元に戻せない]

✅ 良い例:
"以下のバージョン管理方針で作業してください:

 1. 重要ファイルは backup_YYYYMMDD/ に保存
 2. 大幅な変更前は git commit
 3. 実験的な機能は feature_* ファイルで作成
 4. 本番ファイルは production_* で明示"
```

**問題点**:
- ロールバック不可
- 変更履歴なし
- 比較検証困難

---

## 実践的チェックリスト

### プロンプト作成前チェックリスト

プロンプトを送信する前に、以下を確認してください：

#### ☑ 基本要件
- [ ] 成果物が明確に定義されている
- [ ] 参照すべきファイル/ドキュメントを指定している
- [ ] 検証方法が示されている
- [ ] 優先順位が明確（複数タスクの場合）

#### ☑ 詳細度
- [ ] 曖昧な表現を避けている
- [ ] 具体例を含めている
- [ ] 制約条件を明示している
- [ ] 命名規則等のルールを提示している

#### ☑ 安全性
- [ ] 破壊的操作は事前確認を要求している
- [ ] バックアップ作成を指示している（必要に応じて）
- [ ] 段階的実行を指示している

#### ☑ 効率性
- [ ] 一度に適切な量のタスクを依頼している
- [ ] 後追い修正が発生しにくい設計
- [ ] 必要な情報を全て提供している

---

## まとめ: 効果的なプロンプティングの5原則

### 1. **明確性（Clarity）**
成果物、期待値、制約条件を明確に定義する

### 2. **文脈性（Context）**
必要な参照情報、背景知識を提供する

### 3. **段階性（Incremental）**
適切な粒度でタスクを分割し、段階的に進める

### 4. **検証性（Verifiable）**
成果物の確認方法、検証基準を明示する

### 5. **安全性（Safety）**
重要な操作は事前確認、バックアップを確保

---

## 付録: プロジェクトタイプ別推奨フロー

### A. 新規Webサイト制作

```
1. プロジェクト初期化（CLAUDE.md作成）
2. 要件定義書作成
3. 参考サイト分析（必要に応じて）
4. サイトマップ設計
5. 技術調査（最新標準）
6. アセット整理
7. Walking Skeleton実装
8. 段階的機能追加
```

### B. 既存サイトリニューアル

```
1. 現行サイト分析
2. 改善点の洗い出し
3. 新要件定義
4. 技術選定（移行判断含む）
5. 段階的移行計画
6. 実装・テスト
```

### C. ランディングページ制作

```
1. 要件定義（シンプル版）
2. 参考デザイン分析
3. ワイヤーフレーム
4. 一括実装（規模が小さいため）
5. 最適化
```

---

**最終更新**: 2025-11-07
**このドキュメントは、実践を通じて継続的に改善してください**
