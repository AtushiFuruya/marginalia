# エロゲサイト制作 要件定義書

## 📋 プロジェクト概要

- **プロジェクト名**: エロゲサイト制作
- **クライアント**: 友人
- **目的**: 18禁対象のエロゲーム紹介サイトの構築
- **納品形態**: Webサイト(HTML/CSS/JavaScript)

---

## 🛠️ 技術要件

### フロントエンド技術スタック

#### 必須技術

- **HTML5**
- **CSS3**
  - CSS Animations
  - CSS Transitions
  - CSS Keyframes
  - CSS Flexbox
- **Vanilla JavaScript (ES6+)**
- **Media Queries** (レスポンシブ対応)

#### 推奨技術

- CSS Custom Properties (CSS変数)
- Intersection Observer API
- requestAnimationFrame

#### 使用しないもの

- LocalStorage (年齢確認の記憶機能は不要)
- React/Vue等のフレームワーク (Vanilla JSで実装)

### 対応デバイス

- デスクトップPC (1920x1080, 1366x768)
- タブレット (768x1024)
- スマートフォン (375x667, 360x640)

### 対応ブラウザ

- Google Chrome (最新版)
- Firefox (最新版)
- Safari (最新版)
- Microsoft Edge (最新版)

---

## 📄 ページ1: 年齢確認ページ

### 目的
18禁コンテンツの年齢確認を行う入口ページ

### 構成要素

#### 1. 背景動画（トップ / 年齢確認用）

**運用方針**: トップページ（`index.html`）の年齢確認レイヤー背景として、8秒のイントロムービーを再生します。ムービー再生中に年齢確認のオーバーレイを表示し、18歳未満は即時に外部サイト（Google トップ）へリダイレクトします。

**素材**: AI生成動画(Sora/Runway/Luma AI等で作成)

**動画仕様（MVP）**:
- 時間: 固定 8秒（1回再生）
- 解像度: 1080p 推奨
- フォーマット: MP4 (H.264)
- 自動再生、ミュート、再生終了で静止または次アクションへ

**動作フロー（ユーザ視点）**:
1. ユーザーが `index.html` にアクセスすると背景ムービーが自動再生（8秒）される。
2. ムービー上に年齢確認オーバーレイ（文言: 「１８歳以下は入場できません。」、ボタン: `Enter` / `退出する`）を表示。
3. ユーザーが `Enter` を選択 → opening.html へ遷移（フェード等の演出を実行）。
4. ユーザーが `退出する` を選択、または未成年と判定された場合 → 即時に `https://www.google.com` へリダイレクト（ウィンドウ遷移）。

**実装注意点**:
- 自動的な年齢判定は行わず、ユーザーの選択に従う実装とする（MVP）。
- 年齢情報は保存しない（Cookie/localStorage に保存しないことを推奨）。
- 動画はパフォーマンス考慮で軽量化（ビットレート調整、短時間化）。

#### 2. オーバーレイ要素

**実装方法**: HTML/CSSで動画の上にレイヤー配置

**配置要素**:
- タイトル: "年齢確認"
- 説明文: "このサイトは18歳以上の方を対象としています"
- ボタン1: "18歳以上" (クリックでopening.htmlへ遷移)
- ボタン2: "18歳未満" (クリックで警告表示または外部サイトへリダイレクト)

#### 3. インタラクション

- ボタンホバー時: 拡大、グロー効果
- ボタンクリック時: フェードアウトアニメーション→ページ遷移
- トランジション時間: 500ms

#### 4. レスポンシブ対応

- デスクトップ: ボタン横並び
- スマートフォン: ボタン縦並び
- タップ領域: 十分な大きさを確保

---

## 📄 ページ2: オープニングアニメーションページ

### 目的
視覚的に魅力的なオープニング演出でユーザーを引き込む

### 構成要素

#### Phase 1: イントロ動画

**動画仕様**:
- 時間: 3〜5秒
- 解像度: 1080p
- フォーマット: MP4
- 自動再生

**内容**:
- ロゴアニメーション
- ブランディング映像
- シネマティックな演出

#### Phase 2: PNGフラッシュスライドショー

**動作仕様**:
```
画像A表示(2秒)
  ↓
ホワイトフラッシュエフェクト(0.2秒)
  ↓
画像B表示(2秒)
  ↓
ホワイトフラッシュエフェクト(0.2秒)
  ↓
(以下繰り返し)
```

**画像仕様**:
- 枚数: 5〜10枚
- 解像度: 1920x1080以上
- フォーマット: PNG
- 各画像表示時間: 2秒
- フラッシュ時間: 0.2秒

**フラッシュエフェクト**:
- 画面全体が白く発光
- 不透明度: 0 → 100% → 0
- タイミング: 画像切り替えの瞬間

**UI要素**:
- プログレスバー: 画面下部に表示(現在の進行状況)
- スキップボタン: 画面右上に配置(タップでメインページへ即座に遷移)

#### 3. 完了後の動作

- フェードアウトアニメーション
- main.htmlへ自動遷移

#### 4. レスポンシブ対応

- 全デバイスで全画面表示
- 画像のアスペクト比維持(object-fit: cover)

---

## 📄 ページ3: メインページ

### 目的
PNG画像をギャラリー形式で表示し、各コンテンツへのナビゲーションを提供

### 構成要素

#### 1. ヘッダー

- サイトタイトル/ロゴ
- ナビゲーションメニュー(オプション)
- 固定ヘッダー(スクロール時も表示)

#### 2. PNG画像ギャラリー(壁紙)

**レイアウト**:
- CSS Flexboxベースの自由で動的な配置
- 画像をFlexアイテムとして配置
- 自動折り返し(flex-wrap: wrap)

**レスポンシブ対応**:
- デスクトップ: 3〜4列グリッド
- タブレット: 2列グリッド
- スマートフォン: 1列表示

**画像仕様**:
- オープニングで使用したPNG画像を再利用可能
- アスペクト比: 16:9推奨
- ファイルサイズ: 500KB以下(最適化後)

#### 3. インタラクション

**ホバー時(デスクトップ)**:
- 画像が拡大(scale: 1.1)
- オーバーレイ表示(タイトル・説明文)
- 上方向に浮き上がる効果(translateY: -10px)
- グロー効果(box-shadow)

**クリック時**:
- 各画像がクリッカブル
- data-link属性で遷移先を指定
- 対象ページへ遷移

**タップ時(スマートフォン)**:
- タップで詳細情報表示
- 再タップまたは長押しで遷移

#### 4. アニメーション

- スクロール時: 画像が順次フェードイン
- Intersection Observer APIを使用
- パフォーマンス最適化

---

## 🎨 デザイン要件

### カラーパレット(例)

- **プライマリカラー**: `#8B00FF` (紫)
- **セカンダリカラー**: `#FF1493` (ピンク)
- **背景色**: `#1a1a1a` (ダークグレー)
- **テキスト色**: `#ffffff` (ホワイト)
- **オーバーレイ**: `rgba(0, 0, 0, 0.7)` (半透明黒)

### フォント

- **日本語**: Noto Sans JP
- **英語**: Roboto または Open Sans
- **サイズ**: clamp()関数でレスポンシブ対応

### アニメーション

- **トランジション時間**: 0.3s〜0.5s
- **イージング**: ease, ease-in-out
- **スムーズで違和感のない動き**

---

## ⚙️ 機能要件

### 年齢確認ページ

- [ ] AI生成動画の自動再生・ループ
- [ ] 動画上にボタンをオーバーレイ表示
- [ ] 「18歳以上」ボタンクリックでオープニングページへ遷移
- [ ] 「18歳未満」ボタンクリックで警告表示または外部リダイレクト
- [ ] フェードアウトトランジション
- [ ] 全デバイス対応

### オープニングページ

- [ ] イントロ動画の自動再生
- [ ] 動画終了後、自動でスライドショー開始
- [ ] PNGスライドショー(2秒ごとに切り替え)
- [ ] ホワイトフラッシュエフェクト(0.2秒)
- [ ] プログレスバー表示
- [ ] スキップボタン機能
- [ ] 完了後、メインページへ自動遷移
- [ ] 全デバイス対応

### メインページ

- [ ] Flexboxベースのギャラリーレイアウト
- [ ] 画像のホバーエフェクト(拡大、オーバーレイ表示)
- [ ] 各画像がクリッカブル(遷移先指定可能)
- [ ] スクロールアニメーション(画像が順次フェードイン)
- [ ] レスポンシブ対応(3列→2列→1列)
- [ ] スムーズなスクロール体験

---

## 🚀 パフォーマンス要件

### 読み込み速度

- **初回表示**: 3秒以内
- **ページ遷移**: 1秒以内

### 最適化項目

- [ ] 画像圧縮(PNG: 500KB以下)
- [ ] 動画圧縮(MP4: 5MB以下)
- [ ] CSS/JSの最小化
- [ ] 遅延読み込み(Lazy Loading)
- [ ] キャッシュ戦略

### アニメーション

- [ ] 60fps維持
- [ ] GPU アクセラレーション活用
- [ ] requestAnimationFrame使用

---

## 📊 テスト要件

### 機能テスト

- [ ] 年齢確認ボタンの動作確認
- [ ] 動画の自動再生確認
- [ ] スライドショーの正常動作
- [ ] フラッシュエフェクトの表示確認
- [ ] スキップボタンの機能確認
- [ ] ページ遷移の動作確認
- [ ] ギャラリークリックの動作確認

### レスポンシブテスト

- [ ] デスクトップ表示(1920x1080, 1366x768)
- [ ] タブレット表示(768x1024)
- [ ] スマートフォン表示(375x667, 360x640)
- [ ] 横向き/縦向き対応

### ブラウザ互換性テスト

- [ ] Chrome (最新版)
- [ ] Firefox (最新版)
- [ ] Safari (最新版)
- [ ] Edge (最新版)

### パフォーマンステスト

- [ ] ページ読み込み速度測定
- [ ] アニメーションのフレームレート確認
- [ ] メモリ使用量確認
